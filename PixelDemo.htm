<!-- Copyright 1998-2019 Epic Games, Inc. All Rights Reserved. -->
<!DOCTYPE HTML>
<html>
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css" integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
    <link type="text/css" rel="stylesheet" href="/player.css">
	
	<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"> -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	
	
	<script src="/socket.io/socket.io.js"></script>
    <script type="text/javascript" src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
    <script type="text/javascript" src="/scripts/webRtcPlayer.js"></script>
    <script type="text/javascript" src="/scripts/app.js"></script>
    <script type="text/javascript" src="PixelDemo.js"></script>
    <link type="text/css" rel="stylesheet" href="PixelDemo.css">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- For iPhone X the following makes it use the entire screen space for the webpage https://webkit.org/blog/7929/designing-websites-for-iphone-x/ -->
    <meta name='viewport' content='initial-scale=1, viewport-fit=cover'>
</head>
	<body onload="load(); onParagonLoad()">
	
	<style>
		body {
		  background-color: #000000;
		}
	</style>
	
		<div class="wrapper">
	
			<!--<div class="sidebar-header">
                
                <img src="images/UE4_Logo.png" width="100%" />
            </div>-->
			<nav id="sidebar" class="">
				<div id="sidebarContent">
				<div class="sidebar-header">
					
					<img src="images/AA_Logo.png" width="100%" />
				</div>

				 <ul id="sidebarlist" class="list-unstyled components panel-group">
				 <p>Nachi Controller</p>
				   <li>
						<a href="#OutsideMenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle SideBarTitle">Forward Kinematics</a>
						
						<ul class="collapse list-unstyled panel-collapse" id="OutsideMenu">
						
							<p> </p>
							
							<p style="font-size:12px">Robot Joints</p>

							<!-- Sliders -->
							  
							<div class="slidecontainer">
								<input  id="slider_joint_00" type="range" min="-170" max="170" value="0" step="0.1" class="slider SunSlider" oninput="window.onSliderInput(10, event)">
							</div>
							
							<div class="slidecontainer">
								<input  id="slider_joint_01" type="range" min="-135" max="72" value="-90" step="0.1" class="slider SunSlider" oninput="window.onSliderInput(11, event)">
							</div>
							
							<div class="slidecontainer">
								<input  id="slider_joint_02" type="range" min="-136" max="260" value="0" step="0.1" class="slider SunSlider" oninput="window.onSliderInput(12, event)">
							</div>
							
							<div class="slidecontainer">
								<input  id="slider_joint_03" type="range" min="-190" max="190" value="0" step="0.1" class="slider SunSlider" oninput="window.onSliderInput(13, event)">
							</div>
							
							<div class="slidecontainer">
								<input  id="slider_joint_04" type="range" min="-120" max="120" value="0" step="0.1" class="slider SunSlider" oninput="window.onSliderInput(14, event)">
							</div>
							
							<div class="slidecontainer">
								<input  id="slider_joint_05" type="range" min="-360" max="360" value="180" step="0.1" class="slider SunSlider" oninput="window.onSliderInput(15, event)">
							</div>
							
							<p> </p>
						</ul>
					</li>
					<li>
						<a href="#InsideMenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle SideBarTitle">Inverse Kinematics</a>
						<ul class="collapse list-unstyled panel-collapse" id="InsideMenu">
							<!--<li><a class="sidebarContainer" onclick="onConfigButton(2,0)"><img class="sidebarImage" src="WebsiteImages/20_Hall.png"/><div class="sidebarText">Hall</div></a></li>
							<li><a class="sidebarContainer" onclick="onConfigButton(2,1)"><img class="sidebarImage" src="WebsiteImages/21_Cafe.png"/><div class="sidebarText">Cafe</div></a></li>
							<li><a class="sidebarContainer" onclick="onConfigButton(2,2)"><img class="sidebarImage" src="WebsiteImages/22_Bridge.png"/><div class="sidebarText">Bridge</div></a></li>
							<li><a class="sidebarContainer" onclick="onConfigButton(2,3)"><img class="sidebarImage" src="WebsiteImages/23_Auditorium.png"/><div class="sidebarText">Auditorium</div></a></li>-->
							<div class="slidecontainer">
							
								<!--<p style="font-size:11px">Load Frames</p>
								<input type="file" accept="text/txt"/>-->
								
								
								<!--<label class="custom-file-upload"> <input type="file"/> Load Frames </label>-->
								<!--<input type="file" name="file" id="file" class="inputfile" /> <label for="file">Choose a file</label>-->
								

								<!-- Upload Frames ------------------->
								
								<form>
								  <label for="frames-upload" class="btn btn-light two">
									Upload Frames
								  </label>
								  <input id="frames-upload" name='upload_frames' type="file" accept="text/*" style="display:none;">
								</form>
								
								<script>
									$('#frames-upload').change(function() {
									  var i = $(this).prev('label').clone();
									  var file = $('#frames-upload')[0].files[0].name;
									  $(this).prev('label').text(file);
									  
									  let descriptor = 
										{
											Category: 30,
											Item: 0
										};

										console.log("Emitting from javascript to UE4! - Category: " + 30);
										emitUIInteraction(descriptor);
									});
								</script>
								 <script type="text/javascript"> 
									document.getElementById('frames-upload') 
										.addEventListener('change', function() { 
										  
										var fr=new FileReader(); 
										fr.onload=function(){ 
											let descriptor = fr.result;

											<!--console.log("Emitting from javascript to UE4! - frames txt");-->
											//emitUIInteraction(descriptor); 
										} 
										  
										fr.readAsText(this.files[0]); 
										parseFile(this.files[0]);
									}) 
								</script>
								
								<!-- Upload Geometry------------------->
								
								<form>
								  <label for="file-upload" class="btn btn-light two">
									Upload Geometry
								  </label>
								  <input id="file-upload" name='file-upload' type="file" style="display:none;">
								</form>
								
								<script>
									$('#file-upload').change(function() {
									  var i = $(this).prev('label').clone();
									  var file = $('#file-upload')[0].files[0].name;
									  $(this).prev('label').text(file);
									  
									  let descriptor = 
										{
											Category: 30,
											Item: 1
										};
										
										console.log("Emitting from javascript to UE4! - Category: " + 30);
										emitUIInteraction(descriptor);
									});
								</script>
								<script type="text/javascript"> 
									document.getElementById('file-upload') 
										.addEventListener('change', function() { 
										  
										var fr=new FileReader(); 
										fr.onload=function(){ 
											let descriptor = fr.result;

											<!--const objectURL = URL.createObjectURL(this.files[0])-->
											<!--console.log(objectURL);-->
											<!--emitUIInteraction(descriptor); -->
										} 
										  
										fr.readAsText(this.files[0]); 
										parseFile(this.files[0]);

									}) 
								</script>

								<form>
									<button id="ToggleMenu" type="button" class="btn btn-light two" onclick="onConfigButton(20,0)">Compute Robot Path</button>
								</form>
								
								<p> </p>
								
								<input  id="SunSlider" type="range" min="0" max="1" value="0" step="0.001" class="slider SunSlider" oninput="window.onSliderInput(21, event)">
								
								<p> </p>
								<p> </p>
								
								<form>
									<button id="SendCommand" type="button" class="btn btn-light two" onclick="onConfigButton(20,1)">Send Command</button>
								</form>

							</div>
							
						</ul>
					</li>
					
					<p> </p>
					
					<button id="ToggleMenu" type="button" class="btn btn-light" onclick="onConfigButton(0,0)">Reset Robot</button>
					<!--<button id="ToggleMenu" type="button" class="btn btn-light two" onclick="onConfigButton(0,0)">Reset Robot</button>-->
				</ul>
				
				
				
			
			</nav>
		
		<!-- -------------------------- -->
		<!-- Central window application -->
		
        <div id="content" class="container">
		<div class="jumbotron" style="background-color: black">
				<!--<h1 class="display-3" style="color:white;">Nachi</h1>-->
				<h1 class="display-2"> </h1>
		</div>
			
            <nav>
			<div class="btn-group btn-group-lg" role="group">
				
				<div class="btn-group btn-group-lg  mr-2" role="group" aria-label="Menu Group">
					<!--<button id="ToggleMenu" type="button" class="btn btn-light" onclick="onConfigButton(0,0)">Load Frames</button>
					<button id="ToggleGameUI" type="button" class="btn btn-light" onclick="onConfigButton(0,1)">Load Geometry</button>-->	
					<!--<button id="ToggleDay" type="button" class="btn btn-light" onclick="onConfigButton(0,2)"><span id="DayText">Change Day/Night</span></button>-->
					
					<!--<button id="ToggleMenu" type="button" class="btn btn-light" onclick="onConfigButton(0,0)">Reset Robot</button> -->
				</div>
				
				<!--<div class="btn-group mr-2 btn-group-lg mr-2" role="group" aria-label="Resolution group">                       
					<button id="720p" type="button" class="btn btn-secondary active" onclick="setRes(1280,720)"><span>720p</span></button>
					<button id="1080p" type="button" class="btn btn-secondary" onclick="setRes(1920, 1080)"><span>1080p</span></button>
				</div>-->
			</div>

				
            </nav>
			
			<div class="row">
                <div class="col">
                    <div id="player" class="fixed-size">
                        <div id="configuration">
                            <div id="ck-fullscreen">
                                <img src="images/MaximiseToFullscreen.png" alt="Maximise to Fullscreen" id="fullscreen-img" class="fullscreen-btn">
                            </div>
                        </div>
                    </div>
                </div>
            </div>			
			
			
			
			<!-- TopRight DropdownMenu -->
            <div id="overlay" class="text-light bg-dark">
                <div id="overlayButton" onclick="onExpandOverlay_Click()">+</div>
                <div id="overlaySettings">
                    <div id="KickOthers">
                        <div class="settings-text">Kick all other players</div>
                        <label class="btn-overlay">
                            <input type="button" id="kick-other-players-button" class="overlay-button btn-flat" value="Kick">
                        </label>
                    </div>
					
                    <div id="FillWindow">
                        <div class="settings-text">Enlarge Display to Fill Window</div>
                        <label class="tgl-switch">
                            <input type="checkbox" id="enlarge-display-to-fill-window-tgl" class="tgl tgl-flat" checked>
                            <div class="tgl-slider"></div>
                        </label>
                    </div>
					
                    <div id="QualityControlOwnership">
                        <div class="settings-text">Quality control ownership</div>
                        <label class="tgl-switch">
                            <input type="checkbox" id="quality-control-ownership-tgl" class="tgl tgl-flat">
                            <div class="tgl-slider"></div>
                        </label>
                    </div>
					
                    <div id="PrioritiseQuality">
                        <div class="settings-text">Prioritise Quality</div>
                        <label class="tgl-switch">
                            <input type="checkbox" id="prioritise-quality-tgl" class="tgl tgl-flat" data-toggle="collapse" href="#qualityParamsContainer">
                            <div class="tgl-slider"></div>
                        </label>
                        <div id="qualityParamsContainer" class="collapse">
                            <div class="form-group">
                                <label for="low-bitrate-text">Low Bitrate (kbps)</label>
                                <input type="number" class="form-control" id="low-bitrate-text" value="2000" min="0" max="100000" />
                                <label for="high-bitrate-text">High Bitrate (kbps)</label>
                                <input type="number" class="form-control" id="high-bitrate-text" value="10000" min="0" max="100000" />
                                <label for="min-fps-text">Min FPS</label>
                                <input type="number" class="form-control" id="min-fps-text" value="10" min="1" max="120" />
                                <input id="quality-params-submit" class="btn btn-primary btn-lg mt-3" type="button" value="Apply">
                            </div>
                        </div>
                    </div>
					
                    <div id="ShowFPS">
                        <div class="settings-text">Show FPS</div>
                        <label class="btn-overlay">
                            <input type="button" id="show-fps-button" class="overlay-button btn-flat" value="Toggle">
                        </label>
                    </div>
					
                    <div id="MatchViewportResolution">
                        <div class="settings-text">Match Viewport Resolution</div>
                        <label class="tgl-switch">
                            <input type="checkbox" id="match-viewport-res-tgl" class="tgl tgl-flat">
                            <div class="tgl-slider"></div>
                        </label>
                    </div>
					
                    <div id="Stats">
                        <div class="settings-text">Show Stats</div>
                        <label class="tgl-switch">
                            <input type="checkbox" id="show-stats-tgl" class="tgl tgl-flat">
                            <div class="tgl-slider"></div>
                        </label>
						
                        <div id="statsContainer">
                            <div id="stats"></div>
                        </div>
						
                    </div>
                </div>
            </div>
        </div>
    </div>
	
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js" integrity="sha384-o+RDsa0aLu++PJvFqy8fFScvbHFLtbvScb8AjopnFD+iEQ7wo/CG0xlczd+2O/em" crossorigin="anonymous"></script>
</body>
</html>
